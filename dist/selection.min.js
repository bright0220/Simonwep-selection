var Selection=function(t){var e={};function n(o){if(e[o])return e[o].exports;var i=e[o]={i:o,l:!1,exports:{}};return t[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:o})},n.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="dist/",n(n.s=0)}([function(t,e,n){"use strict";var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t};function s(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}
/**!
 * Selection
 * @author    Simon Reinisch
 * @license MIT
 */
/**!
 * Selection
 * @author    Simon Reinisch
 * @license MIT
 */
!function(e){if(void 0!==t&&void 0!==t.exports)t.exports=e();else{if("undefined"==typeof window||!window.document)throw new Error("selection.js requires a window with a document");window.Selection=e()}}(function(){var t=!1,e=["-moz-","-ms-","-o-","-webkit-"],n=Math.abs,r=Math.max,a=Math.min,c=function(t){return t.preventDefault()};function u(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.options=t;var e,n={class:"selection-area",startThreshold:10,singleClick:!0,disableTouch:!1,containers:[],selectables:[],startareas:["html"],boundaries:["html"]};for(var o in this._selectedStore=[],n)!(o in this.options)&&(this.options[o]=n[o]);for(var i in this)"_"===i.charAt(0)&&"function"==typeof this[i]&&(this[i]=this[i].bind(this));this.areaElement=(e=document.createElement("div"),document.body.appendChild(e),d(e,{top:0,left:0,position:"fixed"}),e),l(document,"mousedown",this._onTapStart),this.options.disableTouch||l(document,"touchstart",this._onTapStart,{passive:!1})}function l(e,n,o){var s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.addEventListener(n,o,i({capture:t},s))}function h(e,n,o){var s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.removeEventListener(n,o,i({capture:t},s))}function d(t,n,i){var s=t&&t.style;if(s)if("object"===(void 0===n?"undefined":o(n))){var r=Object.getOwnPropertyNames(n),a=!0,c=!1,u=void 0;try{for(var l,h=r[Symbol.iterator]();!(a=(l=h.next()).done);a=!0){var d=l.value,p=n[d];s[d]=p+("string"==typeof p?"":"px")}}catch(t){c=!0,u=t}finally{try{!a&&h.return&&h.return()}finally{if(c)throw u}}}else{if(void 0===i)return document.defaultView&&document.defaultView.getComputedStyle?i=document.defaultView.getComputedStyle(t,null):t.currentStyle&&(i=t.currentStyle),void 0===prop?i:i[n];if(n in s)s[n]=i+("string"==typeof i?"":"px");else{var f=!0,m=!1,v=void 0;try{for(var _,y=e[Symbol.iterator]();!(f=(_=y.next()).done);f=!0){s[_.value+n]=i+("string"==typeof i?"":"px")}}catch(t){m=!0,v=t}finally{try{!f&&y.return&&y.return()}finally{if(m)throw v}}}}}function p(t,e){var n=t.getBoundingClientRect(),o=e.getBoundingClientRect();return n.left+n.width>=o.left&&n.left<=o.left+o.width&&n.top+n.height>=o.top&&n.top<=o.top+o.height}function f(t,e,n,o,i,s){var r=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{},a=t.options[e];if("function"==typeof a){var c={selection:t,eventName:e,areaElement:n,selectedElements:i,changedElements:s,originalEvent:o};for(var u in r)c[u]=r[u];return a.call(t,c)}}function m(t){Array.isArray(t)||(t=[t]);var e=[],n=!0,o=!1,i=void 0;try{for(var r,a=t[Symbol.iterator]();!(n=(r=a.next()).done);n=!0){var c=r.value;e.push.apply(e,s(document.querySelectorAll(c)))}}catch(t){o=!0,i=t}finally{try{!n&&a.return&&a.return()}finally{if(o)throw i}}return e}function v(t){var e=t.path||t.composedPath&&t.composedPath();if(e)return e;var n=t.target.parentElement;for(e=[t.target];n;n=n.parentElement)e.push(n);return e.push(document,window),e}function _(t,e){var n=t.indexOf(e);~n&&t.splice(n,1)}return u.prototype={constructor:u,_onTapStart:function(t){var e=this,n=t.touches&&t.touches[0],o=(n||t).target,i=m(this.options.startareas);this._boundaries=m(this.options.boundaries);var r=v(t);if(i.find(function(t){return r.includes(t)})&&this._boundaries.find(function(t){return r.includes(t)})){this._lastX=(n||t).clientX,this._lastY=(n||t).clientY,this._singleClick=!0;var a=m(this.options.containers);this._selectables=m(this.options.selectables),a.forEach(function(t){var n;return(n=e._selectables).push.apply(n,s(t.getElementsByTagName("*")))}),this._targetBoundary=this._boundaries.find(function(t){return p(t,o)}),this._touchedElements=[],this._changedElements={added:[],removed:[]},this.areaElement.classList.add(this.options.class),document.addEventListener("selectstart",c),l(document,"mousemove",this._delayedTapMove),l(document,"touchmove",this._delayedTapMove,{passive:!1}),l(document,"mouseup",this._onTapStop),l(document,"touchcancel",this._onTapStop),l(document,"touchend",this._onTapStop),t.preventDefault()}},_onSingleTap:function(t){var e=(t.touches&&t.touches[0]||t).target;if(this._selectables.includes(e)){this._touchedElements.push(e);var n=this._selectedStore,o=this._changedElements;f(this,"onSelect",this.areaElement,t,n,o,{target:e})}},_delayedTapMove:function(t){var e=t.touches&&t.touches[0],o=(e||t).clientX,i=(e||t).clientY;if(n(o+i-(this._lastX+this._lastY))>=this.options.startThreshold){h(document,"mousemove",this._delayedTapMove),h(document,"touchmove",this._delayedTapMove),l(document,"mousemove",this._onTapMove),l(document,"touchmove",this._onTapMove),d(this.areaElement,"display","block"),this._updateArea(t);var s=this._touchedElements.concat(this._selectedStore),r=this._changedElements;f(this,"onStart",this.areaElement,t,s,r),this._singleClick=!1}},_onTapMove:function(t){this._updateArea(t),this._updatedTouchingElements();var e=this._touchedElements.concat(this._selectedStore),n=this._changedElements;f(this,"onMove",this.areaElement,t,e,n)},_updateArea:function(t){var e=this._targetBoundary.getBoundingClientRect(),n=t.touches&&t.touches[0],o=(n||t).clientX,i=(n||t).clientY;o<e.x&&(o=e.x),i<e.top&&(i=e.top),o>e.x+e.width&&(o=e.x+e.width),i>e.top+e.height&&(i=e.top+e.height);var s=a(this._lastX,o),c=a(this._lastY,i),u=r(this._lastX,o),l=r(this._lastY,i);d(this.areaElement,{top:c,left:s,width:u-s,height:l-c})},_onTapStop:function(t,e){if(h(document,"mousemove",this._delayedTapMove),h(document,"touchmove",this._delayedTapMove),h(document,"mousemove",this._onTapMove),h(document,"touchmove",this._onTapMove),h(document,"mouseup",this._onTapStop),h(document,"touchcancel",this._onTapStop),h(document,"touchend",this._onTapStop),this._singleClick)this._onSingleTap(t);else if(!e){this._updatedTouchingElements();var n=this._touchedElements.concat(this._selectedStore),o=this._changedElements;f(this,"onStop",this.areaElement,t,n,o)}document.removeEventListener("selectstart",c),d(this.areaElement,"display","none")},_updatedTouchingElements:function(){var t=this,e=[],n={added:[],removed:[]},o=function(o){!1!==function(t,e,n){var o=t.options[e];if("function"==typeof o){var i={selection:t,eventName:e,element:n};return o.call(t,i)}}(t,"selectionFilter",o)&&p(t.areaElement,o)&&(t._touchedElements.includes(o)||n.added.push(o),e.push(o))}.bind(this);this._selectables.forEach(o);for(var i=this._touchedElements,s=i.length-1;s>=0;s--){var r=i[s];e.includes(r)||n.removed.push(r)}this._touchedElements=e,this._changedElements=n},keepSelection:function(){var t=this,e=this._touchedElements.filter(function(e){return!t._selectedStore.includes(e)});this._selectedStore=e.concat(this._selectedStore)},clearSelection:function(){this._selectedStore=[]},removeFromSelection:function(t){_(this._selectedStore,t),_(this._touchedElements,t)},cancel:function(t){this._onTapStop(null,!t)},option:function(t,e){var n=this.options;return void 0===e?n[t]:n[t]=e},disable:function(){h(document,"mousedown",this._onTapStart)},enable:function(){l(document,"mousedown",this._onTapStart)}},u.utils={on:l,off:h,css:d,intersects:p,selectAll:m,eventPath:v,removeElement:_},u.create=function(t){return new u(t)},u.version="0.0.8",u})}]);